<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Poker Tracker{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/flowbite@1.8.0/dist/flowbite.min.js"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen font-sans">

  {% if request.session.get('user') and not request.session.get('must_set_password') %}
  <nav class="bg-gray-800 border-b border-gray-700 px-4 lg:px-6 py-3">
    <div class="flex flex-wrap justify-between items-center max-w-screen-xl mx-auto">
      <a href="/dashboard" class="text-xl font-bold">♠️ Poker Tracker</a>

      <button data-collapse-toggle="mobile-menu" type="button"
              class="inline-flex items-center p-2 ml-3 text-gray-400 lg:hidden hover:bg-gray-700 rounded"
              aria-controls="mobile-menu" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd"
                d="M3 5h14a1 1 0 010 2H3a1 1 0 010-2zm0
                   4h14a1 1 0 010 2H3a1 1 0 010-2zm0
                   4h14a1 1 0 010 2H3a1 1 0 010-2z"
                clip-rule="evenodd"/>
        </svg>
      </button>

      <div class="hidden w-full lg:flex lg:items-center lg:w-auto" id="mobile-menu">
        <ul class="flex flex-col mt-3 lg:flex-row lg:space-x-6 lg:mt-0">
          <li><a href="/dashboard"    class="block px-4 py-2 hover:bg-gray-700 rounded">Dashboard</a></li>
          <li><a href="/leaderboard"  class="block px-4 py-2 hover:bg-gray-700 rounded">Leaderboard</a></li>
          <li><a href="/monthly-stats"     class="block px-4 py-2 hover:bg-gray-700 rounded">Monthly Stats</a></li>
          <li><a href="/global-stats"     class="block px-4 py-2 hover:bg-gray-700 rounded">Global Stats</a></li>
          <li><a href="/history"      class="block px-4 py-2 hover:bg-gray-700 rounded">History</a></li>
          <li><a href="/profile"      class="block px-4 py-2 hover:bg-gray-700 rounded">Profile</a></li>

          {% if request.session.get('is_admin') == 1 %}
            <li><a href="/admin"        class="block px-4 py-2 hover:bg-gray-700 rounded">Admin Panel</a></li>
          {% endif %}

          <li><a href="/logout"       class="block px-4 py-2 hover:bg-gray-700 rounded">Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>
  {% endif %}

  <main class="py-8 px-4 max-w-screen-xl mx-auto">
    {% block content %}{% endblock %}
  </main>
</body>
</html>
